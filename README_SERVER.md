# 狼人杀游戏 Web 服务器

## 功能说明

本项目实现了一个基于 Flask 和 WebSocket 的狼人杀游戏 Web 界面，能够实时显示游戏进程和玩家状态。

## 主要特性

1. **实时消息转发**: 监听控制台输出，将游戏消息实时转发到 Web 前端
2. **游戏状态跟踪**: 自动识别游戏阶段（等待中、夜晚、白天、发言、投票等）
3. **玩家列表管理**: 动态显示玩家信息，包括姓名、角色、状态等
4. **消息分类**: 自动区分系统消息、玩家发言、错误信息等
5. **命令控制**: 支持通过 Web 界面发送游戏命令

## 使用方法

1. 启动服务器：

   ```bash
   python app.py
   ```

2. 打开浏览器访问：`http://127.0.0.1:5000`

3. 在输入框中输入 `/start` 开始游戏

## 技术架构

- **后端**: Flask + Flask-SocketIO
- **前端**: HTML + CSS + JavaScript + Socket.IO
- **消息处理**: 控制台输出捕获 + 正则表达式解析
- **实时通信**: WebSocket

## 文件结构

- `server/Server.py`: 主服务器类，包含控制台捕获和消息转发逻辑
- `static/js/main.js`: 前端 JavaScript，处理 WebSocket 连接和 UI 更新
- `static/css/`: 样式文件
- `templates/index.html`: 主页面模板

## 注意事项

- 服务器只监听控制台输出，不修改游戏逻辑
- 支持 Rich 库的输出格式，自动移除 ANSI 转义序列
- 玩家信息解析基于游戏输出的文本模式匹配
